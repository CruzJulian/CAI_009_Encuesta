"0","""timestamp"" -> id_var"
"0","""comportamientos"" -> esta_seccion"
"0",""
"0","diccio %$% "
"0","  extract(varnames, clase_preg == esta_seccion) -> columnas"
"0",""
"0","columnas %>% "
"0","  map("
"0","    function(var_name){"
"0","      extract(datos, c(id_var, var_name)) %>% mutate(allocation = 1) -> df_tmp "
"0","      spread_(df_tmp, key = var_name, value = ""allocation"", fill = 0) %>% "
"0","        mutate(timestamp = NULL, '<NA>' = NULL) -> df_spread"
"0","      names(df_spread)%>% str_collaps(10) -> df_names"
"0","    "
"0","      setNames(df_spread, paste(var_name, df_names, sep = ""_""))"
"0",""
"0","      }) %>% bind_cols() -> datos_seccion"
"0",""
"0",""
"0","extract(datos, columnas) %>%"
"0","  map(na.omit) %>% "
"0","  map(unique) %>% "
"0","  map(sort) %>% "
"0","  map2(columnas, tibble) %>% "
"0","  map(setNames, c(""rotulo"", ""var_name"")) %>% "
"0","  bind_rows() %>% "
"0","  mutate(datos_sel_names = names(datos_seccion)) -> diccio_seccion"
"0",""
"0",""
