"0","mi_setup %$% extract(diccio[[""varnames""]], separar[3]) -> columna_para_separar "
"0","mi_setup %$% extract(diccio[[""tipo_preg""]], separar[3]) -> tipo_columna_para_separar "
"0","mi_setup %$% extract(diccio[[""clase_preg""]], separar[1]) -> clase_columna_para_separar "
"0",""
"0","datos[[columna_para_separar]] %>% "
"0","  paste(collapse = "", "") %>% str_split("", "") %>% unlist %>% unique -> niveles"
"0",""
"0","niveles %>% str_collaps(30) %>% unique -> id_niveles"
"0",""
"0",""
"0","Map(str_detect,list(datos[[columna_para_separar]]), niveles) %>% "
"0","  setNames(id_niveles) %>% "
"0","  map_df(factor, labels = c(""No"", ""Sí"")) -> columna_separada_3"
"0",""
"0","columna_separada_3 %>% "
"0","  map_df(as.character) %>%  "
"0","  lapply(""=="", ""Sí"") %>% "
"0","  map_dbl(mean) %>% "
"0","  subset(. > 0.03) %>% "
"0","  names -> cuales_cols"
"0",""
"0","columna_separada_3 %<>% extract(cuales_cols)"
"0",""
"0","# datos %>% View"
"0",""
"0","tibble("
"0","  vars = niveles,"
"0","  varnames = id_niveles,"
"0","  tipo_preg = tipo_columna_para_separar,"
"0","  clase_preg = clase_columna_para_separar"
"0",") %>% "
"0","  filter(varnames %in% cuales_cols) %>% "
"0","  mutate(id = 300 + row_number()) %>% "
"0","  bind_rows(diccio) %>% "
"0","  unique %>% arrange(id) -> diccio"
"0",""
"0","datos %<>% bind_cols(columna_separada_3)"
"0",""
"0",""
"0",""
